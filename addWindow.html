<!DOCTYPE html>
<html lang="en">
<head>
	<title>Add Blades</title>
</head>
<body>
	<form>
		<div>
			<label>Stens Number:</label>
			<input type="text" id="stens" autofocus>
		</div>
		<div>
			<label>Quantity:</label>
			<input type="number" id="quantity">
		</div>
		<button type="submit">Add Blades</button>
	</form>

	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;

		const sqlite3 = require('sqlite3');

		var db = new sqlite3.Database('dev.sqlite3');
		
		const form = document.querySelector('form');
		form.addEventListener('submit', submitForm);

		function submitForm(e) {
			e.preventDefault();
			const stens = document.querySelector('#stens').value;
			const quantity = document.querySelector('#quantity').value;
			const newBlades = [stens, quantity];
			
			db.serialize(function () {

			  db.run("INSERT INTO Blades (?, ?)", newBlades);

			  console.log(`A row has been inserted with rowid ${this.lastID}`);
			});
			ipcRenderer.send('blades:add', stens, quantity);
		}
	</script>
</body>
</html>