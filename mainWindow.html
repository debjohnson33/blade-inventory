<!DOCTYPE html>
<html lang="en">
<head>
	<title>Blade Inventory</title>
</head>
<body>
	<h1>Blade Inventory</h1>
	<h2>Search for Blades</h2>
	<form id="search-blades">
		<input type="text" placeholder="Search blades..." />
	</form>
	<ul></ul>

	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;
		const ul = document.querySelector('ul');
		// Load existing blades
		document.addEventListener("DOMContentLoaded", function() {
			ipcRenderer.send("mainWindowLoaded")
			ipcRenderer.on("resultSent", function(e, result){
				console.log(result);
				for (var i = 0; i < result.length; i++) {
					const li = document.createElement('li');
					const bladesText = document.createTextNode('Stens: ' + result[i].stensNumber + ' ' + 'Quantity: ' + result[i].quantity);
					li.appendChild(bladesText);
					ul.appendChild(li);
				}
			})
		})
		// Add blades
		ipcRenderer.on('blades:add', function(e, stens, quantity){
			const li = document.createElement('li');
			const bladesText = document.createTextNode('Stens: ' + stens + ' ' + 'Quantity: ' + quantity);
			li.appendChild(bladesText);
			ul.appendChild(li);
		});

	</script>
</body>
</html>